---
import { Image } from 'astro:assets';
import BaseLayout from "@/layouts/BaseLayout.astro";
import SimpleImagePanel from '@/components/SimpleImagePanel.astro'

const title = "MiniOffice"
const description = "A small office built in a decomissioned detached hallway bathroom."

import computerConduitImg from '@/assets/img/minioffice/6-computer-conduit.jpg'

import hallwayWiringImg from '@/assets/img/minioffice/1-hallway-wiring.jpg'
import interiorLightJunctionGipsImg from '@/assets/img/minioffice/2-interior-light-junction-gips.jpg'
import interiorLightJunctionOldImg from '@/assets/img/minioffice/2-interior-light-junction-old.jpg'
import switchJunctionNewImg from '@/assets/img/minioffice/3-switch-junction-new.jpg'
import switchJunctionZoomedOutImg from '@/assets/img/minioffice/3-switch-junction-zoomed-out.jpg'
import computerOutletExcavatedBroomImg from '@/assets/img/minioffice/4-computer-outlet-excavated-broom.jpg'
import computerBoxFlushImg from '@/assets/img/minioffice/5-computer-box-flush.jpg'
import computerConduitGipsImg from '@/assets/img/minioffice/6-computer-conduit-gips.jpg'
import computerConduitImg from '@/assets/img/minioffice/6-computer-conduit.jpg'
import computerOutletCompleteImg from '@/assets/img/minioffice/6-computer-outlet-complete.jpg'
import computerOutletLevelImg from '@/assets/img/minioffice/6-computer-outlet-level.jpg'
import timberScrapingBottomImg from '@/assets/img/minioffice/7-timber-scraping-bottom.jpg'
import timberScrapingStartImg from '@/assets/img/minioffice/7-timber-scraping-start.jpg'

---

<BaseLayout title={title} description={description}>
  <h1 class="text-5xl">MiniOffice</h1>

  <div class="mt-12">
    <SimpleImagePanel
      reverse={true}
      img={computerConduitImg}
      imgAlt="Placeholder"
      imgCaption="Placeholder"
      imgClasses="h-60 w-full max-w-sm mx-auto md:h-80 md:max-w-md border border-gray-300"
    >
      <p class="max-w-xl">
        <strong class="font-bold">Summary:</strong>
        This page documents building a small detached office in a former hallway bathroom in our family's Ljubljana apartment.
      </p>

      <p class="mt-3">
        The office is located just across the hallway from the apartment; the basic form factor is a 2 m x 1 m rectangle (read: <span class="italic">small!</span>).

        Installed outlets.
        Refinished the walls.
        Installed a proper light.
        Sanded and oiled structural timbers, which were previously hidden behind a palster coating.
        Installed a foldable(?) desk

      </p>

    </SimpleImagePanel>
  </div>

  <h2 class="mt-16 text-4xl text-left">Electrical</h2>

  <div class="mt-8">
    <SimpleImagePanel
      reverse={true}
      img={computerConduitImg}
      imgAlt="Placeholder"
      imgCaption="Placeholder"
      imgClasses="h-64 w-full max-w-md mx-auto md:h-80 object-top"
      captionClasses="max-w-sm"
    >
      <p>
        When beginning the project, the room was supplied with a hot and a neutral line that powered a bare lightbulb hanging above the door.
        There were no outlets, and also no ground wire—the existing wiring predated current building practice where ground wires are run as a matter of course.
      </p>

      <p class="mt-3 font-bold">
        Summary of improvements:
      </p>
      <ul class="list-disc ml-5">
        <li>Replace the existing hot and neutral wires in the office with modern 3-wire VDE cable (that includes a ground wire!)</li>
        <li>Install outlets</li>
        <li>Cut chases (in the masonry wall—yuck!) and run conduit and cable for outlets</li>
        <li>Add proper junction boxes</li>
        <li>Install a proper light fixture to replace the bare dangling bulb</li>
        </li>
      </ul>
      <p class="mt-2">
      </p>

    </SimpleImagePanel>
  </div>

  <div class="mt-3">
    <h3 class="text-2xl">Electrical: Details</h3>
    <p class="mt-2">
      The existing wiring supplying the office ran from the main panel in my apartment through conduit in the hallway to a hallway junction box just outside the office, then through the hallway-office wall into the office.
      By a great stroke of luck, a 3-wire cable of wire of sufficient gauge happened to run continuously from the main panel in my apartment to this hallway junction box outside the office.
      Only the hot and neutral wires were connected in my main panel, but it was a simple matter of hooking up the ground wire to the ground busbar in my main panel, and <span class="italic">voilà!</span>, there was the grounding for the office.
    </p>

    <p class="mt-2">
      By another great stroke of luck, the connection between the hallway junction box and office was made with conduit (in old European masonry buildings you'll sometimes find wires built directly into the brick wall), so replacing cable was a simple matter of pulling old wires out while running new cable in (no need to drill a chase through the hallway-office wall).
    </p>

    <p class="mt-2">
      Okay, I had a solid ground, neutral, and hot wire running between the office and main panel; I could then begin electrical work in the office itself.
      This involved:
    </p>

    <ul class="ml-5 list-disc">
      <li>
        Replaced all wiring in the office with modern 1.5 mm2 VDE cable.
      </li>
      <li>
        Adding a proper junction box in the office for the junction for the light fixture's connections (previously there was an, erm, <span class="italic">makeshift</span> junction box hewn out of a scrap piece of construction lumber).
      </li>
      <li>
        Installed a proper wall-mounted light fixture to replace the lightbulb dangling from the wall by its supply wires.
      </li>
      <li>
        Cut chases into the masonry wall for new conduit and junction/fixture boxes.
        This was unpleasant because of a constant worry of bothering the neighbors (cutting/drilling into masonry, whether with an angle grinder or rotary hammer drill, is <span class="italic">loud</span>).
      </li>
      <li>
        Installed conduit and cable for outlets, and of course installed the outlets themselves.
      </li>
    </ul>
  </div>

  <h3 class="mt-5 text-2xl">Electrical: Gallery</h3>


<!-- import switchJunctionNewImg from '@/assets/img/minioffice/3-switch-junction-new.jpg' -->
<!-- import switchJunctionZoomedOutImg from '@/assets/img/minioffice/3-switch-junction-zoomed-out.jpg' -->
<!-- import computerOutletExcavatedBroomImg from '@/assets/img/minioffice/4-computer-outlet-excavated-broom.jpg' -->
<!-- import computerBoxFlushImg from '@/assets/img/minioffice/5-computer-box-flush.jpg' -->
<!-- import computerConduitGipsImg from '@/assets/img/minioffice/6-computer-conduit-gips.jpg' -->
<!-- import computerConduitImg from '@/assets/img/minioffice/6-computer-conduit.jpg' -->
<!-- import computerOutletCompleteImg from '@/assets/img/minioffice/6-computer-outlet-complete.jpg' -->
<!-- import computerOutletLevelImg from '@/assets/img/minioffice/6-computer-outlet-level.jpg' -->


  <div class="mx-auto max-w-2xl lg:max-w-7xl">
    <div class="mt-4 grid grid-cols-1 gap-4 sm:mt-6 lg:grid-cols-6 lg:grid-rows-2">

      <!-- Box -->
      <div class="relative lg:col-span-3">
        <div class="absolute inset-0 rounded-lg bg-white max-lg:rounded-t-[2rem] lg:rounded-tl-[2rem] dark:bg-gray-800"></div>
        <div class="relative flex h-full flex-col overflow-hidden rounded-[calc(theme(borderRadius.lg)+1px)] max-lg:rounded-t-[calc(2rem+1px)] lg:rounded-tl-[calc(2rem+1px)]">
          <img src={switchJunctionNewImg.src} alt="" class="h-80 object-cover object-left dark:hidden" />
          <img src={switchJunctionNewImg.src} alt="" class="hidden h-80 object-cover object-left dark:block" />
          <div class="p-10 pt-4">
            <h3 class="text-sm/4 font-semibold text-indigo-600 dark:text-indigo-400">Performance</h3>
            <p class="mt-2 text-lg font-medium tracking-tight text-gray-950 dark:text-white">Lightning-fast builds</p>
            <p class="mt-2 max-w-lg text-sm/6 text-gray-600 dark:text-gray-400">Lorem ipsum dolor sit amet, consectetur adipiscing elit. In gravida justo et nulla efficitur, maximus egestas sem pellentesque.</p>
          </div>
        </div>
        <div class="pointer-events-none absolute inset-0 rounded-lg shadow outline outline-1 outline-black/5 max-lg:rounded-t-[2rem] lg:rounded-tl-[2rem] dark:outline-white/15"></div>
      </div>

      <!-- Box -->
      <div class="relative lg:col-span-3">
        <div class="absolute inset-0 rounded-lg bg-white lg:rounded-tr-[2rem] dark:bg-gray-800"></div>
        <div class="relative flex h-full flex-col overflow-hidden rounded-[calc(theme(borderRadius.lg)+1px)] lg:rounded-tr-[calc(2rem+1px)]">
          <img src={switchJunctionZoomedOutImg.src} alt="" class="h-80 object-cover object-left lg:object-right dark:hidden" />
          <img src={switchJunctionZoomedOutImg.src} alt="" class="hidden h-80 object-cover object-left lg:object-right dark:block" />
          <div class="p-10 pt-4">
            <h3 class="text-sm/4 font-semibold text-indigo-600 dark:text-indigo-400">Releases</h3>
            <p class="mt-2 text-lg font-medium tracking-tight text-gray-950 dark:text-white">Push to deploy</p>
            <p class="mt-2 max-w-lg text-sm/6 text-gray-600 dark:text-gray-400">Curabitur auctor, ex quis auctor venenatis, eros arcu rhoncus massa, laoreet dapibus ex elit vitae odio.</p>
          </div>
        </div>
        <div class="pointer-events-none absolute inset-0 rounded-lg shadow outline outline-1 outline-black/5 lg:rounded-tr-[2rem] dark:outline-white/15"></div>
      </div>

      <!-- Box -->
      <div class="relative lg:col-span-2">
        <div class="absolute inset-0 rounded-lg bg-white lg:rounded-bl-[2rem] dark:bg-gray-800"></div>
        <div class="relative flex h-full flex-col overflow-hidden rounded-[calc(theme(borderRadius.lg)+1px)] lg:rounded-bl-[calc(2rem+1px)]">
          <img src="https://tailwindcss.com/plus-assets/img/component-images/bento-01-speed.png" alt="" class="h-80 object-cover object-left dark:hidden" />
          <img src="https://tailwindcss.com/plus-assets/img/component-images/dark-bento-01-speed.png" alt="" class="hidden h-80 object-cover object-left dark:block" />
          <div class="p-10 pt-4">
            <h3 class="text-sm/4 font-semibold text-indigo-600 dark:text-indigo-400">Speed</h3>
            <p class="mt-2 text-lg font-medium tracking-tight text-gray-950 dark:text-white">Built for power users</p>
            <p class="mt-2 max-w-lg text-sm/6 text-gray-600 dark:text-gray-400">Sed congue eros non finibus molestie. Vestibulum euismod augue.</p>
          </div>
        </div>
        <div class="pointer-events-none absolute inset-0 rounded-lg shadow outline outline-1 outline-black/5 lg:rounded-bl-[2rem] dark:outline-white/15"></div>
      </div>

      <!-- Box -->
      <div class="relative lg:col-span-2">
        <div class="absolute inset-0 rounded-lg bg-white dark:bg-gray-800"></div>
        <div class="relative flex h-full flex-col overflow-hidden rounded-[calc(theme(borderRadius.lg)+1px)]">
          <img src="https://tailwindcss.com/plus-assets/img/component-images/bento-01-integrations.png" alt="" class="h-80 object-cover dark:hidden" />
          <img src="https://tailwindcss.com/plus-assets/img/component-images/dark-bento-01-integrations.png" alt="" class="hidden h-80 object-cover dark:block" />
          <div class="p-10 pt-4">
            <h3 class="text-sm/4 font-semibold text-indigo-600 dark:text-indigo-400">Integrations</h3>
            <p class="mt-2 text-lg font-medium tracking-tight text-gray-950 dark:text-white">Connect your favorite tools</p>
            <p class="mt-2 max-w-lg text-sm/6 text-gray-600 dark:text-gray-400">Maecenas at augue sed elit dictum vulputate, in nisi aliquam maximus arcu.</p>
          </div>
        </div>
        <div class="pointer-events-none absolute inset-0 rounded-lg shadow outline outline-1 outline-black/5 dark:outline-white/15"></div>
      </div>

      <!-- Box -->
      <div class="relative lg:col-span-2">
        <div class="absolute inset-0 rounded-lg bg-white max-lg:rounded-b-[2rem] lg:rounded-br-[2rem] dark:bg-gray-800"></div>
        <div class="relative flex h-full flex-col overflow-hidden rounded-[calc(theme(borderRadius.lg)+1px)] max-lg:rounded-b-[calc(2rem+1px)] lg:rounded-br-[calc(2rem+1px)]">
          <img src="https://tailwindcss.com/plus-assets/img/component-images/bento-01-network.png" alt="" class="h-80 object-cover dark:hidden" />
          <img src="https://tailwindcss.com/plus-assets/img/component-images/dark-bento-01-network.png" alt="" class="hidden h-80 object-cover dark:block" />
          <div class="p-10 pt-4">
            <h3 class="text-sm/4 font-semibold text-indigo-600 dark:text-indigo-400">Network</h3>
            <p class="mt-2 text-lg font-medium tracking-tight text-gray-950 dark:text-white">Globally distributed CDN</p>
            <p class="mt-2 max-w-lg text-sm/6 text-gray-600 dark:text-gray-400">Aenean vulputate justo commodo auctor vehicula in malesuada semper.</p>
          </div>
        </div>
        <div class="pointer-events-none absolute inset-0 rounded-lg shadow outline outline-1 outline-black/5 max-lg:rounded-b-[2rem] lg:rounded-br-[2rem] dark:outline-white/15"></div>
      </div>
    </div>
  </div>

  <h2 class="mt-16 text-4xl text-left">Refinishing timber framing</h2>

  <div class="mt-12">
    <p>
      My building is masonry, but the roof is timber-framed. I happen to live on the top floor (i.e. under the timber-framed roof), and some of the structural timber framing supporting the roof happens to run through the office room.

      Unfortunately (at least if you ask me) this timber framing was covered with an awkward plaster coating, concealing the beauty of the underlying wood!
      I removed this plaster coating, then sanded the timbers down and refinished them to have exposed timber framing running through the office.
      This was an aesthetic step—I love the vibe exposed structural timber framing lends a space.
    </p>

    Like cutting electrical chases into masonry, this step was unpleasant/icky for all the dust it raised and noise it generated.
    The process went:
    <ul>
      <li>Roughly scrape the plaster off the timbers</li>
      <li>Sand down the timbers with a flap disk attachment on an angle grinder to remove all the lingering plaster bits</li>
      <li>Sand the timbers with a random orbital sander</li>
      <li>Refinish the timbers with tung oil</li>
    </ul>
    Sanding the plaster on the wood kicked up a lot of dust in a small space (thankfully there was a small window for ventilation, but it still got pretty rough in there.)
  </div>

</BaseLayout>
